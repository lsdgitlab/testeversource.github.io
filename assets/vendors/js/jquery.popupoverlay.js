/*! For license information please see jquery.popupoverlay.js.LICENSE.txt */
!function(t){var e,o,i,n=t(window),a={},s=[],p=[],l=null,d="_open",r="_close",c=[],u=null,f=/(iPad|iPhone|iPod)/.test(navigator.userAgent),h={_init:function(e){var o=t(e),i=o.data("popupoptions");p[e.id]=!1,s[e.id]=0,o.data("popup-initialized")||(o.attr("data-popup-initialized","true"),h._initonce(e)),i.autoopen&&setTimeout((function(){h.show(e,0)}),0)},_initonce:function(o){var i,n,a,s=t(o),p=t("body"),r=s.data("popupoptions");(l=parseInt(p.css("margin-right"),10),u=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.transition,r.scrolllock)&&(void 0===e&&(a=(n=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body")).children(),e=a.innerWidth()-a.height(99).innerWidth(),n.remove()));if(s.attr("id")||s.attr("id","j-popup-"+parseInt(1e8*Math.random(),10)),s.addClass("popup_content"),r.background&&!t("#"+o.id+"_background").length){p.append('<div id="'+o.id+'_background" class="popup_background"></div>');var c=t("#"+o.id+"_background");c.css({opacity:0,visibility:"hidden",backgroundColor:r.color,position:"fixed",top:0,right:0,bottom:0,left:0}),r.setzindex&&!r.autozindex&&c.css("z-index","100000"),r.transition&&c.css("transition",r.transition)}p.append(o),s.wrap('<div id="'+o.id+'_wrapper" class="popup_wrapper" />'),(i=t("#"+o.id+"_wrapper")).css({opacity:0,visibility:"hidden",position:"absolute"}),f&&((c=t("#"+o.id+"_background")).css("cursor","pointer"),t(r.pagecontainer).css("cursor","pointer")),"overlay"==r.type&&!r.absolute&&r.background&&(i.css("overflow","auto"),i[0].style.WebkitOverflowScrolling="touch"),s.css({opacity:0,visibility:"hidden","pointer-events":"auto",display:"inline-block"}),r.setzindex&&!r.autozindex&&i.css("z-index","100001"),r.outline||s.css("outline","none"),r.transition&&(s.css("transition",r.transition),i.css("transition",r.transition)),s.attr("aria-hidden",!0),"overlay"==r.type&&(s.css({textAlign:"left",position:"relative",verticalAlign:"middle"}),i.css({position:"fixed",width:"100%",height:"100%",top:0,left:0,textAlign:"center"}),i.append('<div class="popup_align" />'),t(".popup_align").css({display:"inline-block",verticalAlign:"middle",height:"100%"})),s.attr("role","dialog");var b=r.openelement?r.openelement:"."+o.id+d;t(b).each((function(e,o){t(o).attr("data-popup-ordinal",e),o.id||t(o).attr("id","open_"+parseInt(1e8*Math.random(),10))})),s.attr("aria-labelledby")||s.attr("aria-label")||s.attr("aria-labelledby",t(b).attr("id")),"hover"==r.action?(r.keepfocus=!1,t(b).on("mouseenter",(function(){h.show(o,t(this).data("popup-ordinal"))})),t(b).on("mouseleave",(function(){h.hide(o)}))):t(document).on("click.jqp",b,(function(e){e.preventDefault();var i=t(this).data("popup-ordinal");setTimeout((function(){h.show(o,i)}),0)})),r.closebutton&&h.addclosebutton(o),r.detach?s.detach():s.hide()},show:function(i,a){var d=t(i);if(!d.data("popup-visible")){d.data("popup-initialized")||h._init(i),d.attr("data-popup-initialized","true");var f=t("body"),g=d.data("popupoptions"),v=t("#"+i.id+"_wrapper"),m=t("#"+i.id+"_background");if(b(i,a,g.beforeopen),p[i.id]=a,setTimeout((function(){c.push(i.id)}),0),g.autozindex){for(var y=document.getElementsByTagName("*"),w=y.length,k=0,_=0;_<w;_++){var x=t(y[_]).css("z-index");"auto"!==x&&k<(x=parseInt(x,10))&&(k=x)}s[i.id]=k,g.background&&s[i.id]>=0&&t("#"+i.id+"_background").css({zIndex:s[i.id]+1}),s[i.id]>=0&&v.css({zIndex:s[i.id]+2})}g.detach?(v.prepend(i),d.show()):d.show(),o=setTimeout((function(){v.css({visibility:"visible",opacity:1}),t("html").addClass("popup_visible").addClass("popup_visible_"+i.id),v.addClass("popup_wrapper_visible")}),20),g.scrolllock&&(f.css("overflow","hidden"),f.height()>n.height()&&f.css("margin-right",l+e)),d.css({visibility:"visible",opacity:1}),g.background&&(m.css({visibility:"visible",opacity:g.opacity}),setTimeout((function(){m.css({opacity:g.opacity})}),0)),d.data("popup-visible",!0),h.reposition(i,a),d.data("focusedelementbeforepopup",document.activeElement),d.attr("tabindex",-1),setTimeout((function(){"closebutton"===g.focuselement?t("#"+i.id+" ."+i.id+r+":first").focus():g.focuselement?t(g.focuselement).focus():(!0===g.focuselement||g.keepfocus)&&d.focus()}),g.focusdelay),g.keepfocus&&t(g.pagecontainer).attr("aria-hidden",!0),d.attr("aria-hidden",!1),b(i,a,g.onopen),u?v.one("transitionend",(function(){b(i,a,g.opentransitionend)})):b(i,a,g.opentransitionend),"tooltip"==g.type&&t(window).on("resize."+i.id,(function(){h.reposition(i,a)}))}},hide:function(e,i){var n=t.inArray(e.id,c);if(-1!==n){o&&clearTimeout(o);var a=t("body"),s=t(e),d=s.data("popupoptions"),r=t("#"+e.id+"_wrapper"),f=t("#"+e.id+"_background");s.data("popup-visible",!1),1===c.length?t("html").removeClass("popup_visible").removeClass("popup_visible_"+e.id):t("html").hasClass("popup_visible_"+e.id)&&t("html").removeClass("popup_visible_"+e.id),c.splice(n,1),r.hasClass("popup_wrapper_visible")&&r.removeClass("popup_wrapper_visible"),d.keepfocus&&!i&&setTimeout((function(){t(s.data("focusedelementbeforepopup")).is(":visible")&&s.data("focusedelementbeforepopup").focus()}),0),r.css({visibility:"hidden",opacity:0}),s.css({visibility:"hidden",opacity:0}),d.background&&f.css({visibility:"hidden",opacity:0}),t(d.pagecontainer).attr("aria-hidden",!1),s.attr("aria-hidden",!0),b(e,p[e.id],d.onclose),u&&"0s"!==s.css("transition-duration")?s.one("transitionend",(function(){s.data("popup-visible")||(d.detach?s.detach():s.hide()),d.scrolllock&&setTimeout((function(){t.grep(c,(function(e){return t("#"+e).data("popupoptions").scrolllock})).length||a.css({overflow:"visible","margin-right":l})}),10),b(e,p[e.id],d.closetransitionend)})):(d.detach?s.detach():s.hide(),d.scrolllock&&setTimeout((function(){t.grep(c,(function(e){return t("#"+e).data("popupoptions").scrolllock})).length||a.css({overflow:"visible","margin-right":l})}),10),b(e,p[e.id],d.closetransitionend)),"tooltip"==d.type&&t(window).off("resize."+e.id)}},toggle:function(e,o){t(e).data("popup-visible")?h.hide(e):setTimeout((function(){h.show(e,o)}),0)},reposition:function(e,o){var i=t(e),a=i.data("popupoptions"),s=t("#"+e.id+"_wrapper");if(o=o||0,"tooltip"==a.type){var p;s.css({position:"absolute"});var l=(p=a.tooltipanchor?t(a.tooltipanchor):a.openelement?t(a.openelement).filter('[data-popup-ordinal="'+o+'"]'):t("."+e.id+d+'[data-popup-ordinal="'+o+'"]')).offset()||{left:0,top:0};"right"==a.horizontal?s.css("left",l.left+p.outerWidth()+a.offsetleft):"leftedge"==a.horizontal?s.css("left",l.left+a.offsetleft):"left"==a.horizontal?s.css("right",n.width()-l.left-a.offsetleft):"rightedge"==a.horizontal?s.css("right",n.width()-l.left-p.outerWidth()-a.offsetleft):s.css("left",l.left+p.outerWidth()/2-i.outerWidth()/2-parseFloat(i.css("marginLeft"))+a.offsetleft),"bottom"==a.vertical?s.css("top",l.top+p.outerHeight()+a.offsettop):"bottomedge"==a.vertical?s.css("top",l.top+p.outerHeight()-i.outerHeight()+a.offsettop):"top"==a.vertical?s.css("bottom",n.height()-l.top-a.offsettop):"topedge"==a.vertical?s.css("bottom",n.height()-l.top-i.outerHeight()-a.offsettop):s.css("top",l.top+p.outerHeight()/2-i.outerHeight()/2-parseFloat(i.css("marginTop"))+a.offsettop)}else"overlay"==a.type&&(a.horizontal?s.css("text-align",a.horizontal):s.css("text-align","center"),a.vertical?i.css("vertical-align",a.vertical):i.css("vertical-align","middle"),a.absolute&&s.css({position:"absolute",top:window.scrollY}),a.background||(s.css({"pointer-events":"none"}),a.absolute||g(e)||(i.css("overflow","auto"),i[0].style.WebkitOverflowScrolling="touch",i.css("max-height","calc(100% - "+i.css("margin-top")+" - "+i.css("margin-bottom")+")"))))},addclosebutton:function(e){var o;o=t(e).data("popupoptions").closebuttonmarkup?t(a.closebuttonmarkup).addClass(e.id+"_close"):'<button class="popup_close '+e.id+'_close" title="Close" aria-label="Close"><span aria-hidden="true">Ã—</span></button>',t(e).data("popup-initialized")&&t(e).append(o)}},b=function(e,o,i){var n,a,s=t(e).data("popupoptions");void 0!==s&&(n=s.openelement?s.openelement:"."+e.id+d,a=t(n+'[data-popup-ordinal="'+o+'"]'),"function"==typeof i&&i.call(t(e),e,a))},g=function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)};t(document).on("keydown",(function(e){if(c.length){var o=c[c.length-1],i=document.getElementById(o);t(i).data("popupoptions").escape&&27==e.keyCode&&h.hide(i)}})),t(document).on("mousedown",(function(t){i=t.target})),t(document).on("click",(function(e){if(c.length){var o=c[c.length-1],n=document.getElementById(o),a=t(n).data("popupoptions").closeelement?t(n).data("popupoptions").closeelement:"."+n.id+r;t(e.target).closest(a).length&&(e.preventDefault(),h.hide(n)),t(n).data("popupoptions")&&t(n).data("popupoptions").blur&&!t(e.target).closest(t(n).data("popupoptions").blurignore).length&&!t(e.target).closest("#"+o).length&&!t(i).closest("#"+o).length&&2!==e.which&&t(e.target).is(":visible")&&(t(n).data("popupoptions").background?(h.hide(n),e.preventDefault()):h.hide(n,!0))}})),t(document).on("keydown",(function(e){if(c.length&&9==e.which){var o=c[c.length-1],i=document.getElementById(o);if(!t(i).data("popupoptions").keepfocus)return;var n=t(i).find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),a=t(":focus"),s=n.length,p=n.index(a);0===s?(t(i).focus(),e.preventDefault()):e.shiftKey?0===p&&(n.get(s-1).focus(),e.preventDefault()):p==s-1&&(n.get(0).focus(),e.preventDefault())}})),t.fn.popup=function(e){return this.each((function(){var o=t(this),i=t.extend(!0,{},t.fn.popup.defaults);if(e&&"tooltip"===e.type&&(i.background=!1),"object"==typeof e){var n=t.extend({},i,o.data("popupoptions"),e);o.data("popupoptions",n),a=o.data("popupoptions"),h._init(this)}else"string"==typeof e?(o.data("popupoptions")||(o.data("popupoptions",i),a=o.data("popupoptions")),h[e].call(this,this)):(o.data("popupoptions")||(o.data("popupoptions",i),a=o.data("popupoptions")),h._init(this))}))},t.fn.popup.destroyall=function(){for(var e=0;e<c.length;e++)t("#"+c[e]).popup("hide");t(".popup_wrapper").remove(),t(".popup_background").remove(),t(document).off("click.jqp")},t.fn.popup.defaults={type:"overlay",absolute:!1,autoopen:!1,background:!0,color:"black",opacity:"0.5",horizontal:"center",vertical:"middle",offsettop:0,offsetleft:0,escape:!0,blur:!0,blurignore:null,setzindex:!0,autozindex:!1,scrolllock:!1,closebutton:!1,closebuttonmarkup:null,keepfocus:!0,focuselement:null,focusdelay:50,outline:!1,pagecontainer:null,detach:!1,openelement:null,closeelement:null,transition:null,tooltipanchor:null,beforeopen:null,onclose:null,onopen:null,opentransitionend:null,closetransitionend:null}}(jQuery);